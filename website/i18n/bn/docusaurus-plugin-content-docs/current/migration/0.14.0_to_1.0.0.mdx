---
title: ^0.14.0 to ^1.0.0
---

ржжрзАрж░рзНржШ ржкрзНрж░рждрзАржХрзНрж╖рж╛рж░ ржкрж░ ржЕржмрж╢рзЗрж╖рзЗ рж░рж┐ржнрж╛рж░ржкржбрзЗрж░ ржкрзНрж░ржержо рж╕рзНржерж┐рждрж┐рж╢рзАрж▓ рж╕ржВрж╕рзНржХрж░ржг ржкрзНрж░ржХрж╛рж╢рж┐ржд рж╣ржпрж╝рзЗржЫрзЗ ЁЯСП

ржкрж░рж┐ржмрж░рзНрждржирзЗрж░ рж╕ржорзНржкрзВрж░рзНржг рждрж╛рж▓рж┐ржХрж╛ ржжрзЗржЦрждрзЗ, [ржПржЦрж╛ржирзЗ](https://pub.dev/packages/flutter_riverpod/changelog#100) ржжрзЗржЦрзБржиред

ржПржЗ ржкрзГрж╖рзНржарж╛ржпрж╝, ржЖржорж░рж╛ ржХрзАржнрж╛ржмрзЗ ржПржХржЯрж┐ ржмрж┐ржжрзНржпржорж╛ржи рж░рж┐ржнрж╛рж░ржкржб ржЕрзНржпрж╛ржкрзНрж▓рж┐ржХрзЗрж╢ржиржХрзЗ 0.14.x рж╕ржВрж╕рзНржХрж░ржг ржерзЗржХрзЗ 1.0.0 рж╕ржВрж╕рзНржХрж░ржгрзЗ рж╕рзНржерж╛ржирж╛ржирзНрждрж░ ржХрж░рждрзЗ рж╣ржпрж╝ рждрж╛рж░ ржЙржкрж░ ржлрзЛржХрж╛рж╕ ржХрж░ржмред

## рж╕рзНржмржпрж╝ржВржХрзНрж░рж┐ржпрж╝ржнрж╛ржмрзЗ ржирждрзБржи рж╕рж┐ржиржЯрзНржпрж╛ржХрзНрж╕рзЗ ржЖржкржирж╛рж░ ржкрзНрж░ржХрж▓рзНржк ржЖржкржЧрзНрж░рзЗржб ржХрж░рждрзЗ ржорж╛ржЗржЧрзНрж░рзЗрж╢ржи ржЯрзБрж▓ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ

ржмрж┐ржнрж┐ржирзНржи ржкрж░рж┐ржмрж░рзНрждржиржЧрзБрж▓рж┐ ржмрзНржпрж╛ржЦрзНржпрж╛ ржХрж░рж╛рж░ ржЖржЧрзЗ, ржПржЯрж┐ рж▓ржХрзНрж╖ ржХрж░рж╛ ржЙржЪрж┐ржд ржпрзЗ рж░рж┐ржнрж╛рж░ржкржб ржПржХржЯрж┐ ржХржорж╛ржирзНржб-рж▓рж╛ржЗржи ржЯрзБрж▓ ржирж┐ржпрж╝рзЗ ржЖрж╕рзЗ ржпрж╛ ржЖржкржирж╛рж░ ржЬржирзНржп ржЖржкржирж╛рж░ ржкрзНрж░ржЬрзЗржХрзНржЯржХрзЗ рж╕рзНржмржпрж╝ржВржХрзНрж░рж┐ржпрж╝ржнрж╛ржмрзЗ рж╕рзНржерж╛ржирж╛ржирзНрждрж░ ржХрж░рждрзЗ ржкрж╛рж░рзЗред

### ржХржорж╛ржирзНржб рж▓рж╛ржЗржи ржЯрзБрж▓ ржЗржирж╕рзНржЯрж▓ ржХрж░рж╛

ржорж╛ржЗржЧрзНрж░рзЗрж╢ржи ржЯрзБрж▓ ржЗржирж╕рзНржЯрж▓ ржХрж░рждрзЗ, ржирж┐ржЪрзЗрж░ ржХржорж╛ржирзНржбржЯрж╛ рж░рж╛ржи ржХрж░рзЗржиржГ

```sh
dart pub global activate riverpod_cli
```

ржЖржкржирж┐ ржПржЦржи ржирж┐ржЪрзЗрж░ ржХржорж╛ржирзНржб ржЪрж╛рж▓рж╛рждрзЗ ржкрж╛рж░ржмрзЗржиржГ

```sh
riverpod --help
```

### ржмрзНржпржмрж╣рж╛рж░

ржПржЦржи ржХржорж╛ржирзНржб рж▓рж╛ржЗржи ржЗржирж╕рзНржЯрж▓ ржХрж░рж╛ рж╣ржпрж╝рзЗржЫрзЗ, ржЖржорж░рж╛ ржПржЯрж┐ ржмрзНржпржмрж╣рж╛рж░ рж╢рзБрж░рзБ ржХрж░рждрзЗ ржкрж╛рж░рж┐ред

- ржкрзНрж░ржержорзЗ, ржЖржкржирж┐ ржЖржкржирж╛рж░ ржЯрж╛рж░рзНржорж┐ржирж╛рж▓рзЗ ржпрзЗ ржкрзНрж░ржЬрзЗржХрзНржЯржЯрж┐ рж╕рзНржерж╛ржирж╛ржирзНрждрж░ ржХрж░рждрзЗ ржЪрж╛ржи рж╕рзЗржЯрж┐ ржЦрзБрж▓рзБржиред
- рж░рж┐ржнрж╛рж░ржкржб ржЖржкржЧрзНрж░рзЗржб **ржХрж░ржмрзЗржи ржирж╛ред**  
  ржорж╛ржЗржЧрзНрж░рзЗрж╢ржи ржЯрзБрж▓ржЯрж┐ ржЖржкржирж╛рж░ ржЬржирзНржп рж░рж┐ржнрж╛рж░ржкржбрзЗрж░ рж╕ржВрж╕рзНржХрж░ржг ржЖржкржЧрзНрж░рзЗржб ржХрж░ржмрзЗред

  :::danger
   рж░рж┐ржнрж╛рж░ржкржб ржЖржкржЧрзНрж░рзЗржб ржирж╛ ржХрж░рж╛ ржЧрзБрж░рзБрждрзНржмржкрзВрж░рзНржгред
   ржЖржкржирж┐ ржпржжрж┐ ржЗрждрж┐ржоржзрзНржпрзЗ рж╕ржВрж╕рзНржХрж░ржг 1.0.0 ржЗржирж╕рзНржЯрж▓ ржХрж░рзЗ ржерж╛ржХрзЗржи рждржмрзЗ ржЯрзБрж▓ржЯрж┐ рж╕ржарж┐ржХржнрж╛ржмрзЗ ржХрж╛рж░рзНржпржХрж░ рж╣ржмрзЗ ржирж╛ред
   рждрж╛ржЗ, ржЯрзБрж▓ рж╢рзБрж░рзБ ржХрж░рж╛рж░ ржЖржЧрзЗ ржЖржкржирж┐ рж╕ржарж┐ржХржнрж╛ржмрзЗ ржПржХржЯрж┐ ржкрзБрж░рж╛ржирзЛ рж╕ржВрж╕рзНржХрж░ржг ржмрзНржпржмрж╣рж╛рж░ ржХрж░ржЫрзЗржи рждрж╛ ржирж┐рж╢рзНржЪрж┐ржд ржХрж░рзБржиред
  :::

- ржирж┐рж╢рзНржЪрж┐ржд ржХрж░рзБржи ржпрзЗ ржЖржкржирж╛рж░ ржкрзНрж░ржЬрзЗржХрзНржЯржЯрзЗ рждрзНрж░рзБржЯрж┐ ржирзЗржЗред
- ржПржХрзНрж╕рж┐ржХрж┐ржКржЯржГ
  ```sh
  riverpod migrate
  ```

ржЯрзБрж▓ржЯрж┐ рждрж╛рж░ржкрж░ ржЖржкржирж╛рж░ ржкрзНрж░ржЬрзЗржХрзНржЯржЯрж┐ ржмрж┐рж╢рзНрж▓рзЗрж╖ржг ржХрж░ржмрзЗ ржПржмржВ ржкрж░рж┐ржмрж░рзНрждржирзЗрж░ ржкрж░рж╛ржорж░рзНрж╢ ржжрзЗржмрзЗред ржЙржжрж╛рж╣рж░ржгрж╕рзНржмрж░рзВржк ржЖржкржирж┐ ржжрзЗржЦрждрзЗ ржкрж╛рж░рзЗржиржГ

```diff
-Widget build(BuildContext context, ScopedReader watch) {
+Widget build(BuildContext context, Widget ref) {
-  MyModel state = watch(provider);
+  MyModel state = ref.watch(provider);
}

Accept change (y = yes, n = no [default], A = yes to all, q = quit)?
```

ржкрж░рж┐ржмрж░рзНрждржиржЯрж┐ ржЧрзНрж░рж╣ржг ржХрж░рждрзЗ, рж╢рзБржзрзБ <kbd>y</kbd> ржЯрж┐ржкрзБржиред ржЕржирзНржпржерж╛ржпрж╝ ржПржЯрж┐ ржкрзНрж░рждрзНржпрж╛ржЦрзНржпрж╛ржи ржХрж░рждрзЗ, <kbd>n</kbd> ржЯрж┐ржкрзБржиред

## ржкрж░рж┐ржмрж░рзНрждржиржЧрзБрж▓рж┐

ржПржЦржи ржпрзЗрж╣рзЗрждрзБ ржЖржорж░рж╛ ржжрзЗржЦрзЗржЫрж┐ ржХрж┐ржнрж╛ржмрзЗ ржЖржкржирж╛рж░ ржкрзНрж░рзЛржЬрзЗржХрзНржЯ рж╕рзНржмржпрж╝ржВржХрзНрж░рж┐ржпрж╝ржнрж╛ржмрзЗ ржЖржкржЧрзНрж░рзЗржб ржХрж░рждрзЗ CLI ржмрзНржпржмрж╣рж╛рж░ ржХрж░рждрзЗ рж╣ржпрж╝, ржЖрж╕рзБржи ржкрзНрж░ржпрж╝рзЛржЬржирзАржпрж╝ ржкрж░рж┐ржмрж░рзНрждржиржЧрзБрж▓рж┐ ржмрж┐рж╕рзНрждрж╛рж░рж┐рждржнрж╛ржмрзЗ ржжрзЗржЦрж┐ред

### Syntax unification

рж░рж┐ржнрж╛рж░ржкржбрзЗрж░ рж╕ржВрж╕рзНржХрж░ржг 1.0.0 ржкрзНрж░ржнрж╛ржЗржбрж╛рж░ржжрзЗрж░ рж╕рж╛ржерзЗ ржЗржирзНржЯрж╛рж░ржЕрзНржпрж╛ржХрзНржЯ ржХрж░рж╛рж░ ржЬржирзНржп рж╕рж┐ржиржЯрзНржпрж╛ржХрзНрж╕рзЗрж░ ржПржХрзАржХрж░ржгрзЗрж░ ржЙржкрж░ ржжрзГрж╖рзНржЯрж┐ ржирж┐ржмржжрзНржз ржХрж░рзЗред ржПрж░ ржЖржЧрзЗ, рж░рж┐ржнрж╛рж░ржкржбрзЗрж░ ржЕржирзЗржХржЧрзБрж▓рж┐ ржПржХржЗ рж░ржХржо ржХрж┐ржирзНрждрзБ ржнрж┐ржирзНржи рж╕рж┐ржиржЯрзНржпрж╛ржХрзНрж╕ ржЫрж┐рж▓ ржПржХржЯрж┐ ржкрзНрж░ржнрж╛ржЗржбрж╛рж░ ржкржбрж╝рж╛рж░ ржЬржирзНржп, ржпрзЗржоржи `ref.watch(provider)` ржмржирж╛ржо `useProvider(provider)` ржмржирж╛ржо `watch(provider)`ред рж╕ржВрж╕рзНржХрж░ржг 1.0.0 ржПрж░ рж╕рж╛ржерзЗ, рж╢рзБржзрзБржорж╛рждрзНрж░ ржПржХржЯрж┐ рж╕рж┐ржиржЯрзНржпрж╛ржХрзНрж╕ ржЕржмрж╢рж┐рж╖рзНржЯ ржерж╛ржХрзЗ: `ref.watch(provider)`ред ржЕржирзНржпржжрзЗрж░ рж╕рж░рж┐ржпрж╝рзЗ ржжрзЗржУржпрж╝рж╛ рж╣ржпрж╝рзЗржЫрзЗред

рждрж╛ржЗржГ

- `HookConsumerWidget` ржПрж░ ржкржХрзНрж╖рзЗ `useProvider` рж╕рж░рж╛ржирзЛ рж╣ржпрж╝рзЗржЫрзЗред.
  ржЖржЧрзЗржГ

  ```dart
  class Example extends HookWidget {
    @override
    Widget build(BuildContext context) {
      useState(...);
      int count = useProvider(counterProvider);
      ...
    }
  }
  ```

  ржкрж░рзЗржГ

  ```dart
  class Example extends HookConsumerWidget {
    @override
    Widget build(BuildContext context, WidgetRef ref) {
      useState(...);
      int count = ref.watch(counterProvider);
      ...
    }
  }
  ```

- `ConsumerWidget` ржПрж░ `build` ржПржмржВ `Consumer` ржПрж░ `builder` ржПрж░ ржкрзНрж░рзЛржЯрзЛржЯрж╛ржЗржк ржкрж░рж┐ржмрж░рзНрждрж┐ржд рж╣ржпрж╝рзЗржЫрзЗред

  ржЖржЧрзЗржГ

  ```dart
  class Example extends ConsumerWidget {
    @override
    Widget build(BuildContext context, ScopedReader watch) {
      int count = watch(counterProvider);
      ...
    }
  }

  Consumer(
    builder: (context, watch, child) {
      int count = watch(counterProvider);
      ...
    }
  )
  ```

  ржкрж░рзЗржГ

  ```dart
  class Example extends ConsumerWidget {
    @override
    Widget build(BuildContext context, WidgetRef ref) {
      int count = ref.watch(counterProvider);
      ...
    }
  }

  Consumer(
    builder: (context, ref, child) {
      int count = ref.watch(counterProvider);
      ...
    }
  )
  ```

- `context.read` ржХрзЗ `ref.read` ржПрж░ ржкржХрзНрж╖рзЗ рж╕рж░рж╛ржирзЛ рж╣ржпрж╝рзЗржЫрзЗ`.
  ржЖржЧрзЗржГ

  ```dart
  class Example extends StatelessWidget {
    @override
    Widget build(BuildContext context) {
      SomeButton(
        onPressed: () => context.read(provider.notifier).doSomething(),
      );
    }
  }
  ```

  ржкрж░рзЗржГ

  ```dart
  class Example extends ConsumerWidget {
    @override
    Widget build(BuildContext context, WidgetRef ref) {
      SomeButton(
        onPressed: () => ref.read(provider.notifier).doSomething(),
      );
    }
  }
  ```

### StateProvider ржЖржкржбрзЗржЯ

[StateProvider]ржХрзЗ [StateNotifierProvider] ржПрж░ рж╕рж╛ржерзЗ ржорзЗрж▓рзЗ ржЖржкржбрзЗржЯ ржХрж░рж╛ рж╣ржпрж╝рзЗржЫрзЗред

ржЖржЧрзЗ, `ref.watch(StateProvider)` ржХрж░рж╛ ржПржХржЯрж┐ `StateController` ржЗржирзНрж╕ржЯрзНржпрж╛ржирзНрж╕ рж░рж┐ржЯрж╛рж░рзНржи ржХрж░рждред ржПржЦржи ржПржЯрж┐ рж╢рзБржзрзБржорж╛рждрзНрж░ `StateController` ржПрж░ рж╕рзНржЯрзНржпрж╛ржЯ рж░рж┐ржЯрж╛рж░рзНржи ржХрж░рзЗред

ржорж╛ржЗржЧрзНрж░рзЗржЯ ржХрж░рж╛рж░ ржЬржирзНржп ржЖржкржирж╛рж░ ржХрж╛ржЫрзЗ ржХржпрж╝рзЗржХржЯрж┐ рж╕ржорж╛ржзрж╛ржи ржЖржЫрзЗред
ржпржжрж┐ ржЖржкржирж╛рж░ ржХрзЛржбржЯрж┐ рж╕ржВрж╢рзЛржзржи ржирж╛ ржХрж░рзЗржЗ ржХрзЗржмрж▓ржорж╛рждрзНрж░ рж╕рзНржЯрзЗржЯржЯрж┐ ржкрзЗржпрж╝рзЗ ржерж╛ржХрзЗ, рждрж╛рж╣рж▓рзЗ ржЖржкржирж┐ ржПржЦрж╛ржи ржерзЗржХрзЗ ржкрж░рж┐ржмрж░рзНрждржи ржХрж░рждрзЗ ржкрж╛рж░рзЗржиржГ

```dart
final provider = StateProvider<int>(...);

Consumer(
  builder: (context, ref, child) {
    StateController<int> count = ref.watch(provider);

    return Text('${count.state}');
  }
)
```

ржПржЦрж╛ржирзЗржГ

```dart
final provider = StateProvider<int>(...);

Consumer(
  builder: (context, ref, child) {
    int count = ref.watch(provider);

    return Text('${count}');
  }
)
```

ржмрж┐ржХрж▓рзНржкржнрж╛ржмрзЗ ржЖржкржирж┐ ржкрзБрж░рж╛ржирзЛ ржЖржЪрж░ржг рж░рж╛ржЦрждрзЗ ржирждрзБржи `StateProvider.state` ржмрзНржпржмрж╣рж╛рж░ ржХрж░рждрзЗ ржкрж╛рж░рзЗржиред

```dart
final provider = StateProvider<int>(...);

Consumer(
  builder: (context, ref, child) {
    StateController<int> count = ref.watch(provider.state);

    return Text('${count.state}');
  }
)
```

[statenotifierprovider]: ../providers/state_notifier_provider
[stateprovider]: ../providers/state_provider
[statenotifier]: https://pub.dev/documentation/state_notifier/latest/state_notifier/StateNotifier-class.html
