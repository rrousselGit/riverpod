---
title: ^1.0.0 to ^2.0.0
---

import notifier from "./notifier";
import {AutoSnippet} from "../../src/components/CodeSnippet";

Riverpod went `2.0`! To see the full list of changes, consult the [Changelog].

In this page, we will focus on:
- How to migrate from the deprecated `StateNotifier` to the new `Notifier`
- How to handle the new `AsyncValue` behavior and its new properties
- How to migrate from `ProviderListener` to `ProviderObserver` for logging purposes


## From `StateNotifier`(or `ChangeNotifier`) to `Notifier` (or `AsyncNotifier`)

Riverpod `2.0` introduced the new `Notifier` and `AsyncNotifier` classes.  
These two are meant to replace the - now - legacy `StateNotifier`, with the following advantages:
- Codegen support
- One less [external dependency]
- Easier distinction between sync and async providers
- Easier provider initialization

Alas, these features introduce a few breaking changes. This page is meant to help you overcome these.

### Initialization with `build`

When defining a `StateNotifierProvider` (or `ChangeNotifierProvider`), initialization was
typically placed inside the provider itself. Take the following example:

```dart
final randomProvider = Provider<int>((ref) {
  return Random().nextInt(6);
});

class DiceNotifier extends StateNotifier<int> {
  DiceNotifier(this.random) : super(random + 1);
  final int random;

  void adjust(int offset) => state = state + offset;
}

final diceNotifierProvider = StateNotifierProvider<DiceNotifier, int>((ref) {
  final random = ref.watch(randomProvider);
  return DiceNotifier(random);
});
```

With the new `Notifier` class, the above example translates to:
<AutoSnippet language="dart" {...notifier}></AutoSnippet>

You can notice the following differences:
- More concise syntax
- No constructor specification needed
- Initialization is done in the new `build` method
- Dependencies are specified directly in the new `build` method
- Thus, `NotifierProvider` has no `ref` in its build callback



[Changelog]: https://pub.dev/packages/flutter_riverpod/changelog#200
[external dependency]: https://github.com/rrousselGit/state_notifier